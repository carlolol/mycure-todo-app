(function(t){function e(e){for(var a,r,n=e[0],d=e[1],l=e[2],c=0,p=[];c<n.length;c++)r=n[c],o[r]&&p.push(o[r][0]),o[r]=0;for(a in d)Object.prototype.hasOwnProperty.call(d,a)&&(t[a]=d[a]);u&&u(e);while(p.length)p.shift()();return i.push.apply(i,l||[]),s()}function s(){for(var t,e=0;e<i.length;e++){for(var s=i[e],a=!0,n=1;n<s.length;n++){var d=s[n];0!==o[d]&&(a=!1)}a&&(i.splice(e--,1),t=r(r.s=s[0]))}return t}var a={},o={app:0},i=[];function r(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=t,r.c=a,r.d=function(t,e,s){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(s,a,function(e){return t[e]}.bind(null,a));return s},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],d=n.push.bind(n);n.push=e,n=n.slice();for(var l=0;l<n.length;l++)e(n[l]);var u=d;i.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"56d7":function(t,e,s){"use strict";s.r(e);var a=s("2b0e"),o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-app",[s("v-content",[s("NavigationBar"),s("router-view")],1)],1)},i=[],r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("nav",[s("v-snackbar",{attrs:{timeout:4e3,top:"",color:"success"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[s("span",[t._v("Account created successfully.")]),s("v-btn",{attrs:{fab:"",text:"","x-small":""},on:{click:function(e){t.snackbar=!1}}},[s("v-icon",[t._v("mdi-close")])],1)],1),s("v-toolbar",{staticClass:"elevation-0"},[s("v-toolbar-title",[t._v("MyCure Todo App")]),s("v-spacer"),s("v-menu",{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[s("v-btn",t._g({directives:[{name:"show",rawName:"v-show",value:t.user,expression:"user"}],attrs:{color:"grey",text:"",loading:t.isSigningOut,fab:""}},a),[s("v-icon",[t._v("mdi-chevron-down")])],1)]}}])},[s("v-list",[s("v-list-item",{on:{click:function(e){return e.stopPropagation(),t.updatePopup(!0)}}},[s("v-icon",{attrs:{left:""}},[t._v("mdi-pencil-plus-outline")]),s("span",[t._v("New Note")])],1),s("v-list-item",{on:{click:t.signOut}},[s("v-icon",{attrs:{left:""}},[t._v("mdi-exit-to-app")]),s("span",[t._v("Sign Out")])],1)],1)],1)],1),s("Popup")],1)},n=[],d=s("2f62"),l=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-dialog",{staticClass:"ma-0",attrs:{"max-width":"600px",persistent:""},model:{value:t.showPopup,callback:function(e){t.showPopup=e},expression:"showPopup"}},[s("v-card",[s("v-card-title",[t.showIsEdit?s("h5",[t._v("Edit Note")]):s("h5",[t._v("New Note")])]),s("v-card-text",[s("v-form",{ref:"form"},[s("v-text-field",{attrs:{placeholder:"Title",name:"title",type:"text",rules:t.inputRules},model:{value:t.titleValue,callback:function(e){t.titleValue=e},expression:"titleValue"}}),s("v-textarea",{attrs:{placeholder:"Description",name:"description",type:"text",rules:t.inputRules},model:{value:t.descriptionValue,callback:function(e){t.descriptionValue=e},expression:"descriptionValue"}}),s("v-menu",{scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[s("v-layout",{attrs:{column:"","align-start":""}},[s("v-flex",{attrs:{shrink:""}},[s("v-text-field",t._g({attrs:{placeholder:"Deadline","append-outer-icon":"mdi-calendar-range",rules:t.inputRules,readonly:""},model:{value:t.deadline,callback:function(e){t.deadline=e},expression:"deadline"}},a))],1)],1)]}}])},[s("v-date-picker",{attrs:{"no-title":""},model:{value:t.deadline,callback:function(e){t.deadline=e},expression:"deadline"}})],1)],1)],1),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{color:"red",text:""},on:{click:t.updatePopup}},[t._v("\n        Cancel\n      ")]),s("v-btn",{attrs:{color:"green darken-1",text:"",loading:t.isSubmitting},on:{click:t.submit}},[t._v("\n        Save\n      ")])],1)],1)],1)},u=[],c={data(){return{dialog:!1,title:"",description:"",deadline:"",isSubmitting:!1,inputRules:[t=>!!t||"This field is required"]}},computed:{...Object(d["b"])(["showPopup","showIsEdit","idToShow","getTodoById"]),titleValue:{get(){return this.showIsEdit?this.getTodoById(this.idToShow).name:this.title},set(t){this.title=t}},descriptionValue:{get(){return this.showIsEdit?this.getTodoById(this.idToShow).description:this.description},set(t){this.description=t}},deadlineValue:{get(){return this.showIsEdit?this.getTodoById(this.idToShow).deadline:this.deadline},set(t){this.deadline=t}}},methods:{updatePopup(){this.dialog=!1,this.$store.dispatch("updatePopup",{showPopup:this.dialog}),this.$store.dispatch("updateIsEdit",{showPopup:this.dialog}),this.reset()},reset(){this.deadline="",this.$refs.form.reset()},submit(){if(this.$refs.form.validate()){this.isSubmitting=!0;const t={name:this.title,description:this.description,deadline:this.deadline,status:this.showIsEdit?this.getTodoById(this.idToShow).status:"uncompleted",id:this.idToShow};this.$store.dispatch(this.showIsEdit?"updateTodo":"createNewTodo",t).then(t=>{this.isSubmitting=!1,this.updatePopup()}).catch(t=>{this.isSubmitting=!1,this.updatePopup(),console.log(t)})}}}},p=c,m=s("2877"),h=s("6544"),v=s.n(h),f=s("8336"),g=s("b0af"),b=s("99d9"),w=s("2e4b"),S=s("169a"),V=s("0e8f"),T=s("4bd4"),x=s("a722"),y=s("e449"),_=s("2fa4"),P=s("8654"),C=s("a844"),k=Object(m["a"])(p,l,u,!1,null,null,null),E=k.exports;v()(k,{VBtn:f["a"],VCard:g["a"],VCardActions:b["a"],VCardText:b["b"],VCardTitle:b["c"],VDatePicker:w["a"],VDialog:S["a"],VFlex:V["a"],VForm:T["a"],VLayout:x["a"],VMenu:y["a"],VSpacer:_["a"],VTextField:P["a"],VTextarea:C["a"]});var I={components:{Popup:E},data:()=>({snackbar:!1,isSigningOut:!1}),computed:{...Object(d["b"])(["user"])},methods:{signOut(){this.isSigningOut=!0,this.$store.dispatch("signOutAction").then(()=>{this.isSigningOut=!1,this.$router.push("/")}).catch(t=>{this.isSigningOut=!1,console.log(t)})},updatePopup(t){this.$store.dispatch("updatePopup",{showPopup:t})}}},O=I,$=s("132d"),j=s("8860"),M=s("da13"),R=s("2db4"),A=s("71d9"),B=s("2a7f"),D=Object(m["a"])(O,r,n,!1,null,null,null),F=D.exports;v()(D,{VBtn:f["a"],VIcon:$["a"],VList:j["a"],VListItem:M["a"],VMenu:y["a"],VSnackbar:R["a"],VSpacer:_["a"],VToolbar:A["a"],VToolbarTitle:B["a"]});var U={name:"App",components:{NavigationBar:F},data:()=>({})},L=U,N=s("7496"),q=s("a75b"),z=Object(m["a"])(L,o,i,!1,null,null,null),J=z.exports;v()(z,{VApp:N["a"],VContent:q["a"]});var W=s("8c4f"),Z=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-content",[s("v-row",{attrs:{justify:"center",align:"center"}},[s("v-col",{staticClass:"pb-0",attrs:{cols:"10",md:"6","align-self":"center"}})],1),s("v-container",{staticClass:"pt-0",attrs:{fluid:""}},[s("v-row",{attrs:{justify:"center",align:"center"}},t._l(t.todos,function(e){return s("v-col",{key:e.id,attrs:{"align-self":"center",cols:"12",sm:"8",md:"4"}},[s("v-card",{staticClass:"px-2 py-0 ma-0",attrs:{outlined:""}},[s("v-toolbar",{staticClass:"subtitle-1",attrs:{color:"white",flat:""}},[s("v-toolbar-title",[t._v("\n                "+t._s(e.name)+"\n              ")]),s("v-spacer"),s("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(a){var o=a.on;return[s("v-btn",t._g({attrs:{fab:"",text:"","x-small":""},on:{click:function(s){return s.stopPropagation(),t.updateIsEdit(!0,e.id)}}},o),[s("v-icon",[t._v("mdi-pencil-outline")])],1)]}}],null,!0)},[s("span",[t._v("Edit")])]),s("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(a){var o=a.on;return[s("v-btn",t._g({attrs:{fab:"",text:"","x-small":"",color:"orange",loading:t.isLoading},on:{click:function(s){return s.stopPropagation(),t.deleteTodo(e.id)}}},o),[s("v-icon",[t._v("mdi-trash-can-outline")])],1)]}}],null,!0)},[s("span",[t._v("Delete")])])],1),s("v-divider",{staticClass:"my-0"}),s("v-card-text",{staticClass:"body-2"},[t._v("\n              "+t._s(e.description)+"\n            ")]),s("v-card-actions",{staticClass:"pb-0"},[s("v-chip",{attrs:{small:"",outlined:"",color:"warning"}},[s("v-icon",{attrs:{small:"",left:""}},[t._v("\n                  mdi-timer\n                ")]),t._v("\n                "+t._s(e.deadline)+"\n              ")],1),s("v-spacer"),s("v-chip",{staticClass:"white--text caption my-2",attrs:{small:"",color:t.getColor(e.status)},on:{click:function(s){return t.updateTodoStatus(e.id,"uncompleted"===e.status?"completed":"uncompleted")}}},[t._v("\n                "+t._s(e.status)+"\n              ")])],1)],1)],1)}),1)],1)],1)},K=[],X={data:()=>({showMoreOptions:!1,isLoading:!1}),computed:{...Object(d["b"])(["todos","getTodoById"])},methods:{getColor:t=>{return"completed"===t?"#4caf50":"#f37125"},updatePopup(t){this.$store.dispatch("updatePopup",{showPopup:t})},updateIsEdit(t,e){this.$store.dispatch("updateIsEdit",{isEdit:t,id:e}),this.updatePopup(t)},deleteTodo(t){this.isLoading=!0,this.$store.dispatch("deleteTodo",{id:t}).then(t=>{this.isLoading=!1}).catch(t=>{this.isLoading=!1})},updateTodoStatus(t,e){this.$store.dispatch("updateTodoStatus",{id:t,status:e}).then(t=>{}).catch(t=>{console.log(t)})}}},G=X,H=s("cc20"),Q=s("62ad"),Y=s("a523"),tt=s("ce7e"),et=s("0fd9"),st=s("3a2f"),at=Object(m["a"])(G,Z,K,!1,null,null,null),ot=at.exports;v()(at,{VBtn:f["a"],VCard:g["a"],VCardActions:b["a"],VCardText:b["b"],VChip:H["a"],VCol:Q["a"],VContainer:Y["a"],VContent:q["a"],VDivider:tt["a"],VIcon:$["a"],VRow:et["a"],VSpacer:_["a"],VToolbar:A["a"],VToolbarTitle:B["a"],VTooltip:st["a"]});var it=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-content",[s("v-container",{attrs:{fluid:""}},[s("v-row",{attrs:{align:"center",justify:"center"}},[s("v-col",{attrs:{cols:"12",sm:"8",md:"4"}},[s("v-card",{attrs:{elevation:"5"}},[s("v-toolbar",{attrs:{color:"primary",dark:"",flat:""}},[s("v-toolbar-title",[t._v("Login")])],1),s("v-card-text",{staticClass:"pb-0"},[s("v-form",{ref:"form"},[s("v-text-field",{attrs:{label:"Username",name:"username","prepend-icon":"mdi-account",type:"text",rules:t.usernameRules},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),s("v-text-field",{attrs:{label:"Password",name:"password","prepend-icon":"mdi-lock",type:"password",rules:t.passwordRules},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1),s("v-card-actions",[s("v-spacer"),s("v-btn",{staticClass:"px-10",attrs:{rounded:"",color:"primary",loading:t.isSubmitting},on:{click:t.validate}},[t._v("\n              Login\n            ")])],1),s("v-divider",{staticClass:"my-5"}),s("div",{staticClass:"text-center"},[s("v-card",{attrs:{flat:""}},[s("v-card-title",{staticClass:"subtitle-1 font-weight-black pt-0"},[s("v-spacer"),t._v("\n                Don't have an account yet?\n                "),s("v-spacer")],1),s("v-card-actions",[s("v-spacer"),s("v-btn",{staticClass:"px-5 mb-5",attrs:{outlined:"",rounded:"",router:"",to:"/signup"}},[t._v("\n                  Create an account\n                ")]),s("v-spacer")],1)],1)],1)],1)],1)],1)],1)],1)},rt=[],nt={props:{},data:()=>({username:"",password:"",dummyDomain:"@test.email",usernameRules:[t=>!!t||"Please enter your username"],passwordRules:[t=>!!t||"Please enter your password"],isSubmitting:!1}),computed:{...Object(d["b"])(["status","error"])},methods:{validate(){if(this.$refs.form.validate()){this.isSubmitting=!0;const t={username:this.username+this.dummyDomain,password:this.password};this.$store.dispatch("signInAction",t).then(t=>{this.isSubmitting=!1,this.$router.push("/home")}).catch(t=>{this.isSubmitting=!1,console.log(t)})}}}},dt=nt,lt=Object(m["a"])(dt,it,rt,!1,null,null,null),ut=lt.exports;v()(lt,{VBtn:f["a"],VCard:g["a"],VCardActions:b["a"],VCardText:b["b"],VCardTitle:b["c"],VCol:Q["a"],VContainer:Y["a"],VContent:q["a"],VDivider:tt["a"],VForm:T["a"],VRow:et["a"],VSpacer:_["a"],VTextField:P["a"],VToolbar:A["a"],VToolbarTitle:B["a"]});var ct=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-content",[s("v-container",{attrs:{fluid:""}},[s("v-row",{attrs:{align:"center",justify:"center"}},[s("v-col",{attrs:{cols:"12",sm:"8",md:"4"}},[s("v-card",{attrs:{elevation:"5"}},[s("v-toolbar",{attrs:{color:"primary",dark:"",flat:""}},[s("v-toolbar-title",{staticClass:"ml-n3"},[s("v-btn",{attrs:{fab:"",text:"",small:"",router:"",to:"/"}},[s("v-icon",[t._v("mdi-chevron-left")])],1),t._v("\n              Create an Account\n            ")],1)],1),s("v-card-text",{staticClass:"pb-0"},[s("v-form",{ref:"form"},[s("v-text-field",{attrs:{label:"Username",name:"username","prepend-icon":"mdi-account",type:"text",rules:t.usernameRules},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),s("v-text-field",{attrs:{id:"password",label:"Password",name:"password","prepend-icon":"mdi-lock",type:"password",rules:t.passwordRules},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1),s("v-card-actions",{staticClass:"pb-7"},[s("v-spacer"),s("v-btn",{staticClass:"px-8",attrs:{rounded:"",color:"primary",loading:t.isSubmitting},on:{click:t.validate}},[t._v("\n              Sign Up\n            ")])],1)],1)],1)],1)],1)],1)},pt=[],mt={props:{},data:()=>({username:"",password:"",dummyDomain:"@test.email",usernameRules:[t=>!!t||"Username is required"],passwordRules:[t=>!!t||"Password is required",t=>t&&t.length>5||"Password length must be greater than 5 characters"],isSubmitting:!1}),methods:{validate(){if(this.$refs.form.validate()){this.isSubmitting=!0;const t={username:this.username+this.dummyDomain,password:this.password};this.$store.dispatch("signUpAction",t).then(()=>{this.isSubmitting=!1,this.$router.push("/")}).catch(t=>{this.isSubmitting=!1,console.log(t)})}}}},ht=mt,vt=Object(m["a"])(ht,ct,pt,!1,null,null,null),ft=vt.exports;v()(vt,{VBtn:f["a"],VCard:g["a"],VCardActions:b["a"],VCardText:b["b"],VCol:Q["a"],VContainer:Y["a"],VContent:q["a"],VForm:T["a"],VIcon:$["a"],VRow:et["a"],VSpacer:_["a"],VTextField:P["a"],VToolbar:A["a"],VToolbarTitle:B["a"]}),a["a"].use(W["a"]);var gt=new W["a"]({mode:"history",base:"/",routes:[{path:"/home",name:"home",component:ot},{path:"/",name:"login",component:ut},{path:"/signup",name:"signup",component:ft}]}),bt=s("59ca"),wt=s.n(bt);a["a"].use(d["a"]);var St=new d["a"].Store({state:{user:null,status:null,error:null,message:null,todos:[],showPopup:!1,isEdit:!1,idToShow:null},mutations:{setUser(t,e){t.user=e},removeUser(t){t.user=null},setStatus(t,e){t.status=e},setError(t,e){t.error=e},setMessage(t,e){t.message=e},setTodos(t,e){t.todos=e},setIdToShow(t,e){t.idToShow=e},addNewTodo(t,e){t.todos.push(e)},updateTodo(t,e){t.todos.splice(t.todos.findIndex(t=>t.id===e.id),1,e)},removeTodo(t,e){t.todos.splice(t.todos.findIndex(t=>t.id===e),1)},setShowPopup(t,e){t.showPopup=e},setIsEdit(t,e){t.isEdit=e}},actions:{signUpAction({commit:t},e){return new Promise((s,a)=>{t("setStatus","loading"),wt.a.auth().createUserWithEmailAndPassword(e.username,e.password).then(e=>{t("setUser",null),t("setStatus","success"),t("setError",null),t("setMessage","Sign up success."),s("Success.")}).catch(e=>{t("setStatus","failed"),t("setError",e.message),t("setMessage",null),a("Failed. Reason: "+e.message)})})},signInAction({commit:t},e){return new Promise((s,a)=>{t("setStatus","loading");var o=function(t){var e=t.val();return e.id=t.key,e};wt.a.auth().signInWithEmailAndPassword(e.username,e.password).then(e=>{t("setStatus","loading");var a=wt.a.database().ref("todo/"+e.user.uid);a.on("child_added",e=>{t("addNewTodo",o(e))}),a.on("child_changed",e=>{t("updateTodo",o(e))}),a.on("child_removed",e=>{t("removeTodo",e.key)}),t("setUser",{uid:e.user.uid,username:e.user.email.slice(0,e.user.email.indexOf("@test.test"))}),t("setStatus","success"),t("setError",null),t("setMessage","Sign in success."),s("Success.")}).catch(e=>{t("setStatus","failed"),t("setError",e.message),t("setMessage",null),a("Failed. Reason: "+e.message)})})},signOutAction({commit:t}){return new Promise((e,s)=>{wt.a.auth().signOut().then(()=>{t("setUser",null),t("setStatus","success"),t("setError",null),t("setTodos",[]),t("setMessage","Sign out success."),e("Success.")}).catch(e=>{t("setStatus","failed"),t("setError",e.message),t("setMessage",null),s("Failed. Reason: "+e.message)})})},updatePopup({commit:t},e){t("setShowPopup",e.showPopup)},updateIsEdit({commit:t},e){t("setIsEdit",e.isEdit),t("setIdToShow",e.id)},createNewTodo({commit:t},e){return new Promise((s,a)=>{var o={name:e.name,description:e.description,deadline:e.deadline,status:e.status},i=wt.a.database().ref("todo/"+this.state.user.uid),r=i.push().key;wt.a.database().ref("todo/"+this.state.user.uid+"/"+r).set(o).then(()=>{t("setStatus","success"),t("setError",null),t("setMessage","Todo creation success."),s("Success.")}).catch(e=>{t("setStatus","failed"),t("setError",e.message),t("setMessage",null),a("Failed. Reason: "+e.message)})})},deleteTodo({commit:t},e){return new Promise((s,a)=>{wt.a.database().ref("todo/"+this.state.user.uid+"/"+e.id).remove().then(()=>{t("setStatus","success"),t("setError",null),t("setMessage","Deleted todo successfully."),s("Success.")}).catch(e=>{t("setStatus","failed"),t("setError",e.message),t("setMessage",null),a("Failed. Reason: "+e.message)})})},updateTodo({commit:t},e){return new Promise((s,a)=>{var o={name:e.name,description:e.description,deadline:e.deadline,status:e.status};wt.a.database().ref("todo/"+this.state.user.uid+"/"+e.id).update(o).then(()=>{t("setStatus","success"),t("setError",null),t("setMessage","Todo update success."),s("Success.")}).catch(e=>{t("setStatus","failed"),t("setError",e.message),t("setMessage",null),a("Failed. Reason: "+e.message)})})},updateTodoStatus({commit:t},e){return new Promise((s,a)=>{var o={status:e.status};wt.a.database().ref("todo/"+this.state.user.uid+"/"+e.id).update(o).then(()=>{t("setStatus","success"),t("setError",null),t("setMessage","Todo update success."),s("Success.")}).catch(e=>{t("setStatus","failed"),t("setError",e.message),t("setMessage",null),a("Failed. Reason: "+e.message)})})}},getters:{status(t){return t.status},user(t){return t.user},error(t){return t.error},todos(t){return t.todos},showPopup(t){return t.showPopup},showIsEdit(t){return t.isEdit},getTodoById:t=>e=>{return t.todos.find(t=>t.id===e)},idToShow(t){return t.idToShow}}}),Vt=s("f309");a["a"].use(Vt["a"]);var Tt=new Vt["a"]({icons:{iconfont:"mdi"}});s("ea7b"),s("66ce");a["a"].config.productionTip=!1,new a["a"]({router:gt,store:St,vuetify:Tt,render:t=>t(J)}).$mount("#app");var xt={apiKey:"AIzaSyD9TCU5Z4x8AFOnZqXaeLik1jlffuUMbv0",authDomain:"mycure-todo-app-8d626.firebaseapp.com",databaseURL:"https://mycure-todo-app-8d626.firebaseio.com",projectId:"mycure-todo-app-8d626",storageBucket:"",messagingSenderId:"992016582609",appId:"1:992016582609:web:eac95b48823c7e19"};wt.a.initializeApp(xt);wt.a.auth(),wt.a.database()}});
//# sourceMappingURL=app.487e55a3.js.map